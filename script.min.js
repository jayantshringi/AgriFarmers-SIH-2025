const CONFIG={APP_NAME:"AgriFarmers",VERSION:"1.3.0",DEBUG_MODE:!0,LANGUAGES:{en:{name:"English",dir:"ltr",flag:"üá∫üá∏"},hi:{name:"‡§π‡§ø‡§Ç‡§¶‡•Ä",dir:"ltr",flag:"üáÆüá≥"},pa:{name:"‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä",dir:"ltr",flag:"üáÆüá≥"}},WEATHER_API_KEY:"44a55de0f2e0674cb9160f50459d51d4"},TRANSLATIONS={en:{app_name:"AgriFarmers",online:"Online",offline:"Offline",login:"Login",logout:"Logout",get_started:"Get Started",language:"Language",profile:"Profile",welcome_title:"Welcome to AgriFarmers",welcome_subtitle:"Your trusted companion for modern farming",smart_farming:"Smart Farming",smart_farming_desc:"Get personalized crop recommendations and farming advice",weather_insights:"Weather Insights",weather_insights_desc:"Accurate weather forecasts and farming alerts",market_prices:"Market Prices",market_prices_desc:"Real-time crop prices and market trends",welcome_back:"Welcome Back",mobile_number:"Mobile Number",enter_mobile:"Enter 10-digit mobile number",continue:"Continue",new_here:"New here?",create_account:"Create account",join_agrifarmers:"Join AgriFarmers",full_name:"Full Name",your_name:"Your Name",state:"State",select_state:"Select State",district:"District",select_district:"Select District",already_account:"Already have an account?",sign_in:"Sign in",otp_verification:"OTP Verification",otp_sent_to:"OTP sent to",verify_otp:"Verify OTP",resend_otp:"Resend OTP",back_login:"Back to Login",demo_otp:"Demo: Your OTP is shown below",otp_valid:"OTP valid for",minutes:"minutes",enter_6_digits:"Please enter all 6 digits",invalid_otp:"Invalid OTP. Please try again",otp_verified:"OTP verified successfully",new_otp_sent:"New OTP sent",hello:"Hello",today:"Today",dashboard:"Your Farming Dashboard",weather_forecast:"Weather Forecast",weather_desc:"Today's weather & forecast",seed_recommendations:"Seed Recommendations",seed_desc:"Best seeds for your region",fertilizer_guide:"Fertilizer Guide",fertilizer_desc:"Nutrients for your crops",crop_calendar:"Crop Calendar",crop_desc:"Seasonal planting guide",market_prices_title:"Market Prices",market_desc:"Current crop prices",soil_health:"Soil Health",soil_desc:"Soil testing guidance",farming_advisory:"Today's Farming Advisory",good_weather:"Good weather for farming activities. Ideal for irrigation and fertilization.",humidity:"Humidity",wind_speed:"Wind Speed",feels_like:"Feels Like",pressure:"Pressure",sunrise:"Sunrise",sunset:"Sunset",farming_advisory_label:"Farming Advisory:",good_for_irrigation:"Good weather for irrigation and fertilization activities.",recommended_for_kharif:"Recommended for Kharif Season",rice:"Rice",cotton:"Cotton",maize:"Maize",high_yield:"High-yield variety",bt_cotton:"BT Cotton variety",hybrid:"Hybrid variety",recommended:"Recommended",tip_seeds:"Tip: Always use certified seeds from authorized dealers for better yield.",npk_ratio:"NPK Ratio",application_time:"Application Time",before_sowing:"Before Sowing",basal_dose:"Basal dose recommended",nitrogen_phosphorus_potassium:"Nitrogen:Phosphorus:Potassium",important_soil:"Important: Soil testing is recommended before fertilizer application.",season:"Season",sowing:"Sowing",harvesting:"Harvesting",crops:"Crops",kharif:"Kharif",rabi:"Rabi",zaid:"Zaid",current_recommendation:"Current Recommendation",perfect_time:"Now is the perfect time for Kharif crops like Rice and Cotton.",grade_a:"Grade A",basmati:"Basmati",medium_staple:"Medium Staple",wheat:"Wheat",prices_updated:"Prices updated: Today, 10:00 AM",soil_testing_steps:"Soil Testing Steps",collect_samples:"Collect soil samples from different spots in your field",mix_samples:"Mix samples thoroughly in a clean container",visit_kvk:"Visit nearest Krishi Vigyan Kendra (KVK)",get_health_card:"Get soil health card with recommendations",kvk_contact:"KVK Contact Info",search_nearest:"Search for nearest Krishi Vigyan Kendra (KVK) in your district.",our_services:"Our Services",weather_forecast_desc:"Accurate weather predictions for your farming activities.",seed_recommendations_desc:"Best seeds for your specific region and soil type.",fertilizer_guide_desc:"Optimal fertilizer recommendations for your crops.",market_prices_desc:"Real-time crop prices and market trends.",quick_links:"Quick Links",home:"Home",about:"About",services:"Services",contact:"Contact",empowering_farmers:"Empowering farmers with smart agricultural solutions and real-time insights",privacy_policy:"Privacy Policy",terms_of_use:"Terms of Use",sitemap:"Sitemap",all_rights_reserved:"All rights reserved",welcome_toast:"Welcome to AgriFarmers!",account_created:"Account created successfully!",logged_out:"Logged out successfully",pwa_installed:"AgriFarmers installed successfully!",install_suggestion:"Install AgriFarmers for better experience",offline_mode:"You are offline. Some features may be limited.",installing:"Installing AgriFarmers...",installation_cancelled:"Installation cancelled. Try from browser menu.",loading:"Loading your farming assistant...",invalid_name:"Please enter a valid name",invalid_mobile:"Please enter a valid 10-digit mobile number",select_state_error:"Please select your state",select_district_error:"Please select your district",network_error:"Network error. Please check your connection.",location_error:"Unable to get your location. Using default location.",weather_error:"Unable to fetch weather data. Please try again.",install_title:"Install AgriFarmers",install_ios_title:"Install AgriFarmers on iPhone/iPad",install_android_title:"Install AgriFarmers on Android",install_desktop_title:"Install AgriFarmers on Desktop",ios_step1:"Tap the Share button",ios_step2:'Scroll and tap "Add to Home Screen"',ios_step3:'Tap "Add" to finish',android_step1:"Tap Menu (‚ãÆ) in Chrome",android_step2:'Tap "Install app"',android_step3:'Tap "Install" to confirm',desktop_step1:"Click Install button in address bar",desktop_step2:'Or click ‚Ä¢‚Ä¢‚Ä¢ menu ‚Üí "Install AgriFarmers"'},hi:{app_name:"‡§è‡§ó‡•ç‡§∞‡•Ä‡§´‡§æ‡§∞‡•ç‡§Æ‡§∞‡•ç‡§∏",online:"‡§ë‡§®‡§≤‡§æ‡§á‡§®",offline:"‡§ë‡§´‡§≤‡§æ‡§á‡§®",login:"‡§≤‡•â‡§ó‡§ø‡§®",logout:"‡§≤‡•â‡§ó‡§Ü‡§â‡§ü",get_started:"‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç",language:"‡§≠‡§æ‡§∑‡§æ",profile:"‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤",welcome_title:"‡§è‡§ó‡•ç‡§∞‡•Ä‡§´‡§æ‡§∞‡•ç‡§Æ‡§∞‡•ç‡§∏ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à",welcome_subtitle:"‡§Ü‡§ß‡•Å‡§®‡§ø‡§ï ‡§ñ‡•á‡§§‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§™‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø ‡§∏‡§æ‡§•‡•Ä",smart_farming:"‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§ñ‡•á‡§§‡•Ä",smart_farming_desc:"‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§´‡§∏‡§≤ ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂‡•á‡§Ç ‡§î‡§∞ ‡§ñ‡•á‡§§‡•Ä ‡§∏‡§≤‡§æ‡§π ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç",weather_insights:"‡§Æ‡•å‡§∏‡§Æ ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£",weather_insights_desc:"‡§∏‡§ü‡•Ä‡§ï ‡§Æ‡•å‡§∏‡§Æ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§® ‡§î‡§∞ ‡§ñ‡•á‡§§‡•Ä ‡§Ö‡§≤‡§∞‡•ç‡§ü",market_prices:"‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§≠‡§æ‡§µ",market_prices_desc:"‡§∞‡•Ä‡§Ø‡§≤-‡§ü‡§æ‡§á‡§Æ ‡§´‡§∏‡§≤ ‡§ï‡•Ä‡§Æ‡§§‡•á‡§Ç ‡§î‡§∞ ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§ï‡•á ‡§∞‡•Å‡§ù‡§æ‡§®",welcome_back:"‡§µ‡§æ‡§™‡§∏‡•Ä ‡§™‡§∞ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à",mobile_number:"‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞",enter_mobile:"10 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç",continue:"‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç",new_here:"‡§®‡§è ‡§π‡•à‡§Ç?",create_account:"‡§ñ‡§æ‡§§‡§æ ‡§¨‡§®‡§æ‡§è‡§Ç",join_agrifarmers:"‡§è‡§ó‡•ç‡§∞‡•Ä‡§´‡§æ‡§∞‡•ç‡§Æ‡§∞‡•ç‡§∏ ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡•á‡§Ç",full_name:"‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ",your_name:"‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ",state:"‡§∞‡§æ‡§ú‡•ç‡§Ø",select_state:"‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§ö‡•Å‡§®‡•á‡§Ç",district:"‡§ú‡§ø‡§≤‡§æ",select_district:"‡§ú‡§ø‡§≤‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç",already_account:"‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§ñ‡§æ‡§§‡§æ ‡§π‡•à?",sign_in:"‡§∏‡§æ‡§á‡§® ‡§á‡§® ‡§ï‡§∞‡•á‡§Ç",otp_verification:"‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§®",otp_sent_to:"‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§≠‡•á‡§ú‡§æ ‡§ó‡§Ø‡§æ",verify_otp:"‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç",resend_otp:"‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§™‡•Å‡§®‡§É ‡§≠‡•á‡§ú‡•á‡§Ç",back_login:"‡§≤‡•â‡§ó‡§ø‡§® ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏",demo_otp:"‡§°‡•á‡§Æ‡•ã: ‡§Ü‡§™‡§ï‡§æ ‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§®‡•Ä‡§ö‡•á ‡§¶‡§ø‡§ñ‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à",otp_valid:"‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§µ‡•à‡§ß ‡§π‡•à",minutes:"‡§Æ‡§ø‡§®‡§ü",enter_6_digits:"‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä 6 ‡§Ö‡§Ç‡§ï ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç",invalid_otp:"‡§Ö‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ì‡§ü‡•Ä‡§™‡•Ä‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç",otp_verified:"‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§π‡•Å‡§Ü",new_otp_sent:"‡§®‡§Ø‡§æ ‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§≠‡•á‡§ú‡§æ ‡§ó‡§Ø‡§æ",hello:"‡§®‡§Æ‡§∏‡•ç‡§§‡•á",today:"‡§Ü‡§ú",dashboard:"‡§Ü‡§™‡§ï‡§æ ‡§ñ‡•á‡§§‡•Ä ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",weather_forecast:"‡§Æ‡•å‡§∏‡§Æ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§®",weather_desc:"‡§Ü‡§ú ‡§ï‡§æ ‡§Æ‡•å‡§∏‡§Æ ‡§î‡§∞ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§®",seed_recommendations:"‡§¨‡•Ä‡§ú ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂‡•á‡§Ç",seed_desc:"‡§Ü‡§™‡§ï‡•á ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§∞‡•ç‡§µ‡§∂‡•ç‡§∞‡•á‡§∑‡•ç‡§† ‡§¨‡•Ä‡§ú",fertilizer_guide:"‡§â‡§∞‡•ç‡§µ‡§∞‡§ï ‡§ó‡§æ‡§á‡§°",fertilizer_desc:"‡§Ü‡§™‡§ï‡•Ä ‡§´‡§∏‡§≤‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ã‡§∑‡§ï ‡§§‡§§‡•ç‡§µ",crop_calendar:"‡§´‡§∏‡§≤ ‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞",crop_desc:"‡§Æ‡•å‡§∏‡§Æ‡•Ä ‡§∞‡•ã‡§™‡§£ ‡§ó‡§æ‡§á‡§°",market_prices_title:"‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§≠‡§æ‡§µ",market_desc:"‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§´‡§∏‡§≤ ‡§ï‡•Ä‡§Æ‡§§‡•á‡§Ç",soil_health:"‡§Æ‡•É‡§¶‡§æ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø",soil_desc:"‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§®",farming_advisory:"‡§Ü‡§ú ‡§ï‡•Ä ‡§ñ‡•á‡§§‡•Ä ‡§∏‡§≤‡§æ‡§π",good_weather:"‡§ñ‡•á‡§§‡•Ä ‡§ï‡•Ä ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§Æ‡•å‡§∏‡§Æ‡•§ ‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§î‡§∞ ‡§â‡§∞‡•ç‡§µ‡§∞‡•Ä‡§ï‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§¶‡§∞‡•ç‡§∂‡•§",humidity:"‡§®‡§Æ‡•Ä",wind_speed:"‡§π‡§µ‡§æ ‡§ï‡•Ä ‡§ó‡§§‡§ø",feels_like:"‡§Ö‡§®‡•Å‡§≠‡§µ",pressure:"‡§¶‡§¨‡§æ‡§µ",sunrise:"‡§∏‡•Ç‡§∞‡•ç‡§Ø‡•ã‡§¶‡§Ø",sunset:"‡§∏‡•Ç‡§∞‡•ç‡§Ø‡§æ‡§∏‡•ç‡§§",farming_advisory_label:"‡§ñ‡•á‡§§‡•Ä ‡§∏‡§≤‡§æ‡§π:",good_for_irrigation:"‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§î‡§∞ ‡§â‡§∞‡•ç‡§µ‡§∞‡•Ä‡§ï‡§∞‡§£ ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§Æ‡•å‡§∏‡§Æ‡•§",quick_links:"‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§≤‡§ø‡§Ç‡§ï",home:"‡§π‡•ã‡§Æ",about:"‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç",services:"‡§∏‡•á‡§µ‡§æ‡§è‡§Ç",contact:"‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç",empowering_farmers:"‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§ï‡•É‡§∑‡§ø ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§î‡§∞ ‡§∞‡•Ä‡§Ø‡§≤-‡§ü‡§æ‡§á‡§Æ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡§∂‡§ï‡•ç‡§§ ‡§¨‡§®‡§æ‡§®‡§æ",privacy_policy:"‡§ó‡•ã‡§™‡§®‡•Ä‡§Ø‡§§‡§æ ‡§®‡•Ä‡§§‡§ø",terms_of_use:"‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡•Ä ‡§∂‡§∞‡•ç‡§§‡•á‡§Ç",sitemap:"‡§∏‡§æ‡§á‡§ü‡§Æ‡•à‡§™",all_rights_reserved:"‡§∏‡§∞‡•ç‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§",welcome_toast:"‡§è‡§ó‡•ç‡§∞‡•Ä‡§´‡§æ‡§∞‡•ç‡§Æ‡§∞‡•ç‡§∏ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!",account_created:"‡§ñ‡§æ‡§§‡§æ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ!",logged_out:"‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§≤‡•â‡§ó ‡§Ü‡§â‡§ü ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ",offline_mode:"‡§Ü‡§™ ‡§ë‡§´‡§≤‡§æ‡§á‡§® ‡§π‡•à‡§Ç‡•§ ‡§ï‡•Å‡§õ ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡§è‡§Ç ‡§∏‡•Ä‡§Æ‡§ø‡§§ ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡§Ç‡•§",loading:"‡§Ü‡§™‡§ï‡§æ ‡§ñ‡•á‡§§‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...",invalid_name:"‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§µ‡•à‡§ß ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç",invalid_mobile:"‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§µ‡•à‡§ß 10 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç",select_state_error:"‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§ö‡•Å‡§®‡•á‡§Ç",select_district_error:"‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§ú‡§ø‡§≤‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç"},pa:{app_name:"‡®è‡®ó‡®∞‡©Ä ‡®´‡®æ‡®∞‡®Æ‡®∞‡®∏",online:"‡®Ü‡®®‡®≤‡®æ‡®à‡®®",offline:"‡®Ü‡®´‡®≤‡®æ‡®à‡®®",login:"‡®≤‡®æ‡®ó‡®á‡®®",logout:"‡®≤‡®æ‡®ó‡®Ü‡®â‡®ü",get_started:"‡®∏‡®º‡©Å‡®∞‡©Ç ‡®ï‡®∞‡©ã",language:"‡®≠‡®æ‡®∏‡®º‡®æ",profile:"‡®™‡©ç‡®∞‡©ã‡®´‡®æ‡®à‡®≤",welcome_title:"‡®è‡®ó‡®∞‡©Ä ‡®´‡®æ‡®∞‡®Æ‡®∞‡®∏ ‡®µ‡®ø‡©±‡®ö ‡®§‡©Å‡®π‡®æ‡®°‡®æ ‡®∏‡®µ‡®æ‡®ó‡®§ ‡®π‡©à",welcome_subtitle:"‡®Ü‡®ß‡©Å‡®®‡®ø‡®ï ‡®ñ‡©á‡®§‡©Ä ‡®≤‡®à ‡®§‡©Å‡®π‡®æ‡®°‡®æ ‡®µ‡®ø‡®∏‡®º‡®µ‡®∏‡®®‡©Ä‡®Ø ‡®∏‡®æ‡®•‡©Ä",smart_farming:"‡®∏‡®Æ‡®æ‡®∞‡®ü ‡®ñ‡©á‡®§‡©Ä",smart_farming_desc:"‡®®‡®ø‡©±‡®ú‡©Ä‡®ï‡©ç‡®∞‡®ø‡®§ ‡®´‡®∏‡®≤ ‡®∏‡®ø‡®´‡®æ‡®∞‡®ø‡®∏‡®º‡®æ‡®Ç ‡®Ö‡®§‡©á ‡®ñ‡©á‡®§‡©Ä ‡®∏‡®≤‡®æ‡®π ‡®™‡©ç‡®∞‡®æ‡®™‡®§ ‡®ï‡®∞‡©ã",weather_insights:"‡®Æ‡©å‡®∏‡®Æ ‡®¶‡©Ä ‡®ú‡®æ‡®£‡®ï‡®æ‡®∞‡©Ä",weather_insights_desc:"‡®∏‡®π‡©Ä ‡®Æ‡©å‡®∏‡®Æ ‡®¶‡©Ä ‡®≠‡®µ‡®ø‡©±‡®ñ‡®¨‡®æ‡®£‡©Ä ‡®Ö‡®§‡©á ‡®ñ‡©á‡®§‡©Ä ‡®∏‡©Å‡®ö‡©á‡®§‡®®‡®æ‡®µ‡®æ‡®Ç",market_prices:"‡®¨‡®æ‡®ú‡®º‡®æ‡®∞ ‡®≠‡®æ‡®Ö",market_prices_desc:"‡®∞‡©Ä‡®Ö‡®≤-‡®ü‡®æ‡®à‡®Æ ‡®´‡®∏‡®≤ ‡®¶‡©Ä‡®Ü‡®Ç ‡®ï‡©Ä‡®Æ‡®§‡®æ‡®Ç ‡®Ö‡®§‡©á ‡®¨‡®æ‡®ú‡®º‡®æ‡®∞ ‡®∞‡©Å‡®ù‡®æ‡®®",welcome_back:"‡®µ‡®æ‡®™‡®∏‡©Ä '‡®§‡©á ‡®∏‡®µ‡®æ‡®ó‡®§ ‡®π‡©à",mobile_number:"‡®Æ‡©ã‡®¨‡®æ‡®à‡®≤ ‡®®‡©∞‡®¨‡®∞",enter_mobile:"10 ‡®Ö‡©∞‡®ï‡®æ‡®Ç ‡®¶‡®æ ‡®Æ‡©ã‡®¨‡®æ‡®à‡®≤ ‡®®‡©∞‡®¨‡®∞ ‡®¶‡®∞‡®ú ‡®ï‡®∞‡©ã",continue:"‡®ú‡®æ‡®∞‡©Ä ‡®∞‡©±‡®ñ‡©ã",new_here:"‡®®‡®µ‡©á‡®Ç ‡®π‡©ã?",create_account:"‡®ñ‡®æ‡®§‡®æ ‡®¨‡®£‡®æ‡®ì",join_agrifarmers:"‡®è‡®ó‡®∞‡©Ä ‡®´‡®æ‡®∞‡®Æ‡®∞‡®∏ ‡®®‡®æ‡®≤ ‡®ú‡©Å‡©ú‡©ã",full_name:"‡®™‡©Ç‡®∞‡®æ ‡®®‡®æ‡®Æ",your_name:"‡®§‡©Å‡®π‡®æ‡®°‡®æ ‡®®‡®æ‡®Æ",state:"‡®∞‡®æ‡®ú",select_state:"‡®∞‡®æ‡®ú ‡®ö‡©Å‡®£‡©ã",district:"‡®ú‡®º‡®ø‡®≤‡©ç‡®π‡®æ",select_district:"‡®ú‡®º‡®ø‡®≤‡©ç‡®π‡®æ ‡®ö‡©Å‡®£‡©ã",already_account:"‡®™‡®π‡®ø‡®≤‡®æ‡®Ç ‡®§‡©ã‡®Ç ‡®π‡©Ä ‡®ñ‡®æ‡®§‡®æ ‡®π‡©à?",sign_in:"‡®∏‡®æ‡®à‡®® ‡®á‡®® ‡®ï‡®∞‡©ã",otp_verification:"OTP ‡®§‡®∏‡®¶‡©Ä‡®ï",otp_sent_to:"OTP ‡®≠‡©á‡®ú‡®ø‡®Ü ‡®ó‡®ø‡®Ü",verify_otp:"OTP ‡®§‡®∏‡®¶‡©Ä‡®ï ‡®ï‡®∞‡©ã",resend_otp:"OTP ‡®Æ‡©Å‡©ú ‡®≠‡©á‡®ú‡©ã",back_login:"‡®≤‡®æ‡®ó‡®á‡®® '‡®§‡©á ‡®µ‡®æ‡®™‡®∏ ‡®ú‡®æ‡®ì",demo_otp:"‡®°‡©à‡®Æ‡©ã: ‡®§‡©Å‡®π‡®æ‡®°‡®æ OTP ‡®π‡©á‡®†‡®æ‡®Ç ‡®¶‡®ø‡®ñ‡®æ‡®á‡®Ü ‡®ó‡®ø‡®Ü ‡®π‡©à",otp_valid:"OTP ‡®µ‡©à‡®ß ‡®π‡©à",minutes:"‡®Æ‡®ø‡©∞‡®ü",enter_6_digits:"‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®∏‡®æ‡®∞‡©á 6 ‡®Ö‡©∞‡®ï ‡®¶‡®∞‡®ú ‡®ï‡®∞‡©ã",invalid_otp:"‡®ó‡®≤‡®§ OTP‡•§ ‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®¶‡©Å‡®¨‡®æ‡®∞‡®æ ‡®ï‡©ã‡®∏‡®º‡®ø‡®∏‡®º ‡®ï‡®∞‡©ã",otp_verified:"OTP ‡®∏‡®´‡®≤‡®§‡®æ‡®™‡©Ç‡®∞‡®µ‡®ï ‡®§‡®∏‡®¶‡©Ä‡®ï ‡®π‡©ã ‡®ó‡®ø‡®Ü",new_otp_sent:"‡®®‡®µ‡®æ‡®Ç OTP ‡®≠‡©á‡®ú‡®ø‡®Ü ‡®ó‡®ø‡®Ü",hello:"‡®∏‡®§ ‡®∏‡©ç‡®∞‡©Ä ‡®Ö‡®ï‡®æ‡®≤",today:"‡®Ö‡©±‡®ú",dashboard:"‡®§‡©Å‡®π‡®æ‡®°‡®æ ‡®ñ‡©á‡®§‡©Ä ‡®°‡©à‡®∏‡®º‡®¨‡©ã‡®∞‡®°",weather_forecast:"‡®Æ‡©å‡®∏‡®Æ ‡®¶‡©Ä ‡®≠‡®µ‡®ø‡©±‡®ñ‡®¨‡®æ‡®£‡©Ä",weather_desc:"‡®Ö‡©±‡®ú ‡®¶‡®æ ‡®Æ‡©å‡®∏‡®Æ ‡®Ö‡®§‡©á ‡®≠‡®µ‡®ø‡©±‡®ñ‡®¨‡®æ‡®£‡©Ä",seed_recommendations:"‡®¨‡©Ä‡®ú ‡®∏‡®ø‡®´‡®æ‡®∞‡®ø‡®∏‡®º‡®æ‡®Ç",seed_desc:"‡®§‡©Å‡®π‡®æ‡®°‡©á ‡®ñ‡©á‡®§‡®∞ ‡®≤‡®à ‡®∏‡®≠ ‡®§‡©ã‡®Ç ‡®µ‡®ß‡©Ä‡®Ü ‡®¨‡©Ä‡®ú",fertilizer_guide:"‡®ñ‡®æ‡®¶ ‡®ó‡®æ‡®à‡®°",fertilizer_desc:"‡®§‡©Å‡®π‡®æ‡®°‡©Ä‡®Ü‡®Ç ‡®´‡®∏‡®≤‡®æ‡®Ç ‡®≤‡®à ‡®™‡©ã‡®∏‡®º‡®ï ‡®§‡©±‡®§",crop_calendar:"‡®´‡®∏‡®≤ ‡®ï‡©à‡®≤‡©∞‡®°‡®∞",crop_desc:"‡®Æ‡©å‡®∏‡®Æ‡©Ä ‡®¨‡®ø‡®ú‡®æ‡®à ‡®ó‡®æ‡®à‡®°",market_prices_title:"‡®¨‡®æ‡®ú‡®º‡®æ‡®∞ ‡®≠‡®æ‡®Ö",market_desc:"‡®Æ‡©å‡®ú‡©Ç‡®¶‡®æ ‡®´‡®∏‡®≤ ‡®¶‡©Ä‡®Ü‡®Ç ‡®ï‡©Ä‡®Æ‡®§‡®æ‡®Ç",soil_health:"‡®Æ‡®ø‡©±‡®ü‡©Ä ‡®¶‡©Ä ‡®∏‡®ø‡®π‡®§",soil_desc:"‡®Æ‡®ø‡©±‡®ü‡©Ä ‡®ü‡©à‡®∏‡®ü‡®ø‡©∞‡®ó ‡®Æ‡®æ‡®∞‡®ó‡®¶‡®∞‡®∏‡®º‡®®",farming_advisory:"‡®Ö‡©±‡®ú ‡®¶‡©Ä ‡®ñ‡©á‡®§‡©Ä ‡®∏‡®≤‡®æ‡®π",good_weather:"‡®ñ‡©á‡®§‡©Ä ‡®¶‡©Ä‡®Ü‡®Ç ‡®ó‡®§‡©Ä‡®µ‡®ø‡®ß‡©Ä‡®Ü‡®Ç ‡®≤‡®à ‡®ö‡©∞‡®ó‡®æ ‡®Æ‡©å‡®∏‡®Æ‡•§ ‡®∏‡®ø‡©∞‡®ö‡®æ‡®à ‡®Ö‡®§‡©á ‡®ñ‡®æ‡®¶ ‡®™‡®æ‡®â‡®£ ‡®≤‡®à ‡®Ü‡®¶‡®∞‡®∏‡®º‡•§",quick_links:"‡®§‡©Å‡®∞‡©∞‡®§ ‡®≤‡®ø‡©∞‡®ï",home:"‡®π‡©ã‡®Æ",about:"‡®∏‡®æ‡®°‡©á ‡®¨‡®æ‡®∞‡©á",services:"‡®∏‡©á‡®µ‡®æ‡®µ‡®æ‡®Ç",contact:"‡®∏‡©∞‡®™‡®∞‡®ï ‡®ï‡®∞‡©ã",empowering_farmers:"‡®∏‡®Æ‡®æ‡®∞‡®ü ‡®ñ‡©á‡®§‡©Ä ‡®¶‡©á ‡®π‡©±‡®≤ ‡®Ö‡®§‡©á ‡®∞‡©Ä‡®Ö‡®≤-‡®ü‡®æ‡®à‡®Æ ‡®ú‡®æ‡®£‡®ï‡®æ‡®∞‡©Ä ‡®®‡®æ‡®≤ ‡®ï‡®ø‡®∏‡®æ‡®®‡®æ‡®Ç ‡®®‡©Ç‡©∞ ‡®∏‡®∏‡®º‡®ï‡®§ ‡®¨‡®£‡®æ‡®â‡®£‡®æ",privacy_policy:"‡®ó‡©ã‡®™‡®®‡©Ä‡®Ø‡®§‡®æ ‡®®‡©Ä‡®§‡©Ä",terms_of_use:"‡®µ‡®∞‡®§‡©ã‡®Ç ‡®¶‡©Ä‡®Ü‡®Ç ‡®∏‡®º‡®∞‡®§‡®æ‡®Ç",sitemap:"‡®∏‡®æ‡®à‡®ü‡®Æ‡©à‡®™",all_rights_reserved:"‡®∏‡®æ‡®∞‡©á ‡®Ö‡®ß‡®ø‡®ï‡®æ‡®∞ ‡®∞‡®æ‡®ñ‡®µ‡©á‡®Ç ‡®π‡®®",welcome_toast:"‡®è‡®ó‡®∞‡©Ä ‡®´‡®æ‡®∞‡®Æ‡®∞‡®∏ ‡®µ‡®ø‡©±‡®ö ‡®§‡©Å‡®π‡®æ‡®°‡®æ ‡®∏‡®µ‡®æ‡®ó‡®§ ‡®π‡©à!",account_created:"‡®ñ‡®æ‡®§‡®æ ‡®∏‡®´‡®≤‡®§‡®æ‡®™‡©Ç‡®∞‡®µ‡®ï ‡®¨‡®£‡®æ‡®á‡®Ü ‡®ó‡®ø‡®Ü!",logged_out:"‡®∏‡®´‡®≤‡®§‡®æ‡®™‡©Ç‡®∞‡®µ‡®ï ‡®≤‡®æ‡®ó ‡®Ü‡®â‡®ü ‡®ï‡©Ä‡®§‡®æ ‡®ó‡®ø‡®Ü",offline_mode:"‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®Ü‡®´‡®≤‡®æ‡®à‡®® ‡®π‡©ã‡•§ ‡®ï‡©Å‡®ù ‡®µ‡®ø‡®∏‡®º‡©á‡®∏‡®º‡®§‡®æ‡®µ‡®æ‡®Ç ‡®∏‡©Ä‡®Æ‡®ø‡®§ ‡®π‡©ã ‡®∏‡®ï‡®¶‡©Ä‡®Ü‡®Ç ‡®π‡®®‡•§",loading:"‡®§‡©Å‡®π‡®æ‡®°‡®æ ‡®ñ‡©á‡®§‡©Ä ‡®∏‡®π‡®æ‡®á‡®ï ‡®≤‡©ã‡®° ‡®π‡©ã ‡®∞‡®ø‡®π‡®æ ‡®π‡©à...",invalid_name:"‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®á‡©±‡®ï ‡®µ‡©à‡®ß ‡®®‡®æ‡®Æ ‡®¶‡®∞‡®ú ‡®ï‡®∞‡©ã",invalid_mobile:"‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®á‡©±‡®ï ‡®µ‡©à‡®ß 10 ‡®Ö‡©∞‡®ï‡®æ‡®Ç ‡®¶‡®æ ‡®Æ‡©ã‡®¨‡®æ‡®à‡®≤ ‡®®‡©∞‡®¨‡®∞ ‡®¶‡®∞‡®ú ‡®ï‡®∞‡©ã",select_state_error:"‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®Ü‡®™‡®£‡®æ ‡®∞‡®æ‡®ú ‡®ö‡©Å‡®£‡©ã",select_district_error:"‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®Ü‡®™‡®£‡®æ ‡®ú‡®º‡®ø‡®≤‡©ç‡®π‡®æ ‡®ö‡©Å‡®£‡©ã"}},appState={activeUser:null,currentLanguage:"en",tempUserData:null,lastGeneratedOTP:null,otpTimer:null,otpTimeLeft:120,deferredPrompt:null,isAppInstalled:!1,userLocation:null,weatherData:null,isLoading:!1},districtData={Haryana:["Ambala","Bhiwani","Charkhi Dadri","Faridabad","Fatehabad","Gurugram","Hisar","Jhajjar","Jind","Kaithal","Karnal","Kurukshetra","Mahendragarh","Nuh","Palwal","Panchkula","Panipat","Rewari","Rohtak","Sirsa","Sonipat","Yamunanagar"],Punjab:["Amritsar","Barnala","Bathinda","Faridkot","Fatehgarh Sahib","Fazilka","Ferozepur","Gurdaspur","Hoshiarpur","Jalandhar","Kapurthala","Ludhiana","Mansa","Moga","Mohali","Muktsar","Pathankot","Patiala","Rupnagar","Sangrur","Shaheed Bhagat Singh Nagar","Tarn Taran"],"Uttar Pradesh":["Agra","Aligarh","Allahabad","Ambedkar Nagar","Amethi","Amroha","Auraiya","Azamgarh","Baghpat","Bahraich","Ballia","Balrampur","Banda","Barabanki","Bareilly","Basti","Bhadohi","Bijnor","Budaun","Bulandshahr","Chandauli","Chitrakoot","Deoria","Etah","Etawah","Faizabad","Farrukhabad","Fatehpur","Firozabad","Gautam Buddha Nagar","Ghaziabad","Ghazipur","Gonda","Gorakhpur","Hamirpur","Hapur","Hardoi","Hathras","Jalaun","Jaunpur","Jhansi","Kannauj","Kanpur Dehat","Kanpur Nagar","Kanshiram Nagar","Kaushambi","Kushinagar","Lakhimpur Kheri","Lalitpur","Lucknow","Maharajganj","Mahoba","Mainpuri","Mathura","Mau","Meerut","Mirzapur","Moradabad","Muzaffarnagar","Pilibhit","Pratapgarh","Rae Bareli","Rampur","Saharanpur","Sambhal","Sant Kabir Nagar","Shahjahanpur","Shamli","Shravasti","Siddharthnagar","Sitapur","Sonbhadra","Sultanpur","Unnao","Varanasi"]};function initializeLanguage(){const e=localStorage.getItem("agrifarmers_lang");e&&TRANSLATIONS[e]&&(appState.currentLanguage=e),document.documentElement.lang=appState.currentLanguage,createLanguageSelector(),applyLanguage(),updateNavigation()}function createLanguageSelector(){const e=document.getElementById("nav-actions");document.getElementById("mobile-nav-actions");if(e){const t=e.querySelector(".language-selector");t&&t.remove();const a=document.createElement("div");a.className="language-selector",a.innerHTML=`\n            <button id="language-btn-desktop" class="flex items-center space-x-1 px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors text-sm">\n                <i class="fas fa-globe"></i>\n                <span class="hidden md:inline">${CONFIG.LANGUAGES[appState.currentLanguage].flag} ${CONFIG.LANGUAGES[appState.currentLanguage].name}</span>\n                <span class="md:hidden">${CONFIG.LANGUAGES[appState.currentLanguage].flag}</span>\n                <i class="fas fa-chevron-down ml-1 text-xs"></i>\n            </button>\n            <div id="language-dropdown-desktop" class="language-dropdown hidden">\n                ${Object.entries(CONFIG.LANGUAGES).map(([e,t])=>`\n                    <button onclick="changeLanguage('${e}')" \n                            class="language-option ${appState.currentLanguage===e?"active":""}">\n                        <span>${t.flag}</span>\n                        <span>${t.name}</span>\n                    </button>\n                `).join("")}\n            </div>\n        `,e.insertBefore(a,e.firstChild),document.getElementById("language-btn-desktop").addEventListener("click",function(e){e.stopPropagation();document.getElementById("language-dropdown-desktop").classList.toggle("hidden")})}document.addEventListener("click",function(){const e=document.getElementById("language-dropdown-desktop"),t=document.getElementById("language-dropdown-mobile");e&&e.classList.add("hidden"),t&&t.classList.add("hidden")})}function changeLanguage(e){TRANSLATIONS[e]&&(appState.currentLanguage=e,localStorage.setItem("agrifarmers_lang",e),document.documentElement.lang=e,appState.activeUser&&(appState.activeUser.language=e,localStorage.setItem("agrifarmers_user",JSON.stringify(appState.activeUser))),applyLanguage(),createLanguageSelector(),updateNavigation(),updateWeatherAdvisory(),showToast(`Language changed to ${CONFIG.LANGUAGES[e].name}`,"info"))}function applyLanguage(){const e=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;document.querySelectorAll("[data-translate]").forEach(t=>{const a=t.getAttribute("data-translate");e[a]&&(t.textContent=e[a])}),document.querySelectorAll("[data-translate-placeholder]").forEach(t=>{const a=t.getAttribute("data-translate-placeholder");e[a]&&(t.placeholder=e[a])}),document.querySelectorAll("[data-translate-title]").forEach(t=>{const a=t.getAttribute("data-translate-title");e[a]&&(t.title=e[a])}),document.querySelectorAll("[data-translate-alt]").forEach(t=>{const a=t.getAttribute("data-translate-alt");e[a]&&(t.alt=e[a])}),document.querySelectorAll("option[data-translate]").forEach(t=>{const a=t.getAttribute("data-translate");e[a]&&(t.textContent=e[a])})}function initializePWA(){console.log("Initializing PWA..."),checkIfPWAInstalled(),window.addEventListener("beforeinstallprompt",e=>{console.log("‚úÖ PWA: beforeinstallprompt event fired"),e.preventDefault(),appState.deferredPrompt=e,showPWAInstallButton(),setTimeout(()=>{appState.deferredPrompt&&!appState.isAppInstalled&&showToast("Install AgriFarmers for better experience","info")},5e3)}),window.addEventListener("appinstalled",()=>{console.log("üéâ PWA: App installed successfully"),appState.isAppInstalled=!0,hidePWAInstallButton(),localStorage.setItem("agrifarmers_pwa_installed","true"),showToast("AgriFarmers installed successfully!","success")}),window.matchMedia("(display-mode: standalone)").matches&&(console.log("App is running in standalone mode"),appState.isAppInstalled=!0,hidePWAInstallButton())}function checkIfPWAInstalled(){const e=window.matchMedia("(display-mode: standalone)").matches,t=!0===window.navigator.standalone,a="true"===localStorage.getItem("agrifarmers_pwa_installed");return appState.isAppInstalled=e||t||a,appState.isAppInstalled&&(console.log("PWA is already installed"),hidePWAInstallButton()),appState.isAppInstalled}function showPWAInstallButton(){if(appState.isAppInstalled)return void hidePWAInstallButton();if(!appState.deferredPrompt)return;let e=document.getElementById("pwa-install-button");e||(e=document.createElement("button"),e.id="pwa-install-button",e.innerHTML='\n            <i class="fas fa-download"></i>\n            <span class="hidden sm:inline">Install AgriFarmers</span>\n            <span class="sm:hidden">Install</span>\n        ',e.title="Install AgriFarmers as app for better experience",e.addEventListener("click",installPWA),document.body.appendChild(e)),e.style.display="flex",setTimeout(()=>{appState.isAppInstalled||"none"===e.style.display||(e.style.opacity="0.7")},15e3)}function hidePWAInstallButton(){const e=document.getElementById("pwa-install-button");e&&(e.style.display="none")}async function installPWA(){if(console.log("Installing PWA..."),appState.deferredPrompt)try{appState.deferredPrompt.prompt();const{outcome:e}=await appState.deferredPrompt.userChoice;console.log(`User choice: ${e}`),"accepted"===e?(showToast("Installing AgriFarmers...","success"),appState.deferredPrompt=null):showToast("Installation cancelled. You can install from browser menu.","info")}catch(e){console.error("PWA installation error:",e),showManualInstallInstructions()}else showManualInstallInstructions()}function showManualInstallInstructions(){const e=/iPad|iPhone|iPod/.test(navigator.userAgent),t=/Android/.test(navigator.userAgent),a=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;let n="",o="";e?(n=a.install_ios_title||"Install on iPhone/iPad",o=`\n            <ol class="space-y-3 list-decimal list-inside">\n                <li>${a.ios_step1||"Tap the Share button"} <i class="fas fa-share"></i></li>\n                <li>${a.ios_step2||'Scroll and tap "Add to Home Screen"'}</li>\n                <li>${a.ios_step3||'Tap "Add" to finish'}</li>\n            </ol>\n        `):t?(n=a.install_android_title||"Install on Android",o=`\n            <ol class="space-y-3 list-decimal list-inside">\n                <li>${a.android_step1||"Tap Menu (‚ãÆ) in Chrome"} (‚ãÆ)</li>\n                <li>${a.android_step2||'Tap "Install app"'}</li>\n                <li>${a.android_step3||'Tap "Install" to confirm'}</li>\n            </ol>\n        `):(n=a.install_desktop_title||"Install on Desktop",o=`\n            <ol class="space-y-3 list-decimal list-inside">\n                <li>${a.desktop_step1||"Click Install button in address bar"}</li>\n                <li>${a.desktop_step2||'Or click ‚Ä¢‚Ä¢‚Ä¢ menu ‚Üí "Install AgriFarmers"'}</li>\n            </ol>\n        `),showModal(n,o)}async function initializeWeather(){console.log("Initializing Weather System...");try{await getUserLocation(),await fetchWeatherData(),updateWeatherCard()}catch(e){console.error("Weather initialization error:",e),showToast("Unable to fetch weather data","error"),appState.weatherData={temp:28,condition:"Partly Cloudy",humidity:65,windSpeed:12,feelsLike:30,pressure:1013,sunrise:"06:30",sunset:"18:45",location:"Your Location",icon:"01d"},updateWeatherCard()}}async function getUserLocation(){return new Promise((e,t)=>{if(!navigator.geolocation)return console.log("Geolocation not supported"),appState.userLocation={lat:28.6139,lon:77.209,city:"Delhi"},void e(appState.userLocation);navigator.geolocation.getCurrentPosition(async t=>{const a=t.coords.latitude,n=t.coords.longitude;try{const t=await getCityName(a,n);appState.userLocation={lat:a,lon:n,city:t},console.log("User location:",appState.userLocation),e(appState.userLocation)}catch(t){appState.userLocation={lat:a,lon:n,city:"Your Location"},e(appState.userLocation)}},t=>{console.error("Geolocation error:",t),appState.userLocation={lat:28.6139,lon:77.209,city:"Delhi"},e(appState.userLocation),showToast("Using default location: Delhi","info")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}async function getCityName(e,t){try{const a=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}&zoom=10`),n=await a.json();return n.address&&(n.address.city||n.address.town||n.address.village||n.address.county)||"Your Location"}catch(e){return"Your Location"}}async function fetchWeatherData(){appState.userLocation||await getUserLocation();const{lat:e,lon:t}=appState.userLocation;try{const a=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&appid=${CONFIG.WEATHER_API_KEY}&units=metric`);if(!a.ok)throw new Error("Weather API error");const n=await a.json();return appState.weatherData={temp:Math.round(n.main.temp),feelsLike:Math.round(n.main.feels_like),humidity:n.main.humidity,pressure:n.main.pressure,windSpeed:Math.round(3.6*n.wind.speed),condition:n.weather[0].main,description:n.weather[0].description,icon:n.weather[0].icon,sunrise:new Date(1e3*n.sys.sunrise).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),sunset:new Date(1e3*n.sys.sunset).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),location:appState.userLocation.city||n.name},console.log("Weather data fetched:",appState.weatherData),appState.weatherData}catch(e){throw console.error("Weather fetch error:",e),e}}function updateWeatherCard(){if(!appState.weatherData)return;const e=appState.weatherData,t=document.getElementById("currentTemp"),a=document.getElementById("weatherCondition");if(t&&(t.textContent=`${e.temp}¬∞C`),a){a.textContent=e.condition;const t=e.condition.toLowerCase();t.includes("clear")||t.includes("sunny")?a.className="ml-3 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full":t.includes("cloud")?a.className="ml-3 px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full":(t.includes("rain"),a.className="ml-3 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full")}}function updateWeatherAdvisory(){if(!appState.weatherData)return;const e=document.getElementById("farmingAdvisory");if(!e)return;const t=appState.weatherData.temp,a=appState.weatherData.condition.toLowerCase(),n=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;let o="";o=a.includes("rain")?n.good_weather||"Good weather for farming activities. Ideal for irrigation and fertilization.":t>35?"Hot weather. Avoid midday farming activities. Water crops in early morning or evening.":t<10?"Cold weather. Protect sensitive crops. Delay irrigation to prevent frost damage.":a.includes("clear")||a.includes("sunny")?"Sunny day. Good for harvesting and drying crops. Ensure proper irrigation.":n.good_weather||"Good weather for farming activities. Ideal for irrigation and fertilization.",e.textContent=o}function openWeatherModal(){if(!appState.weatherData)return void showToast("Loading weather data...","info");const e=appState.weatherData,t=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en,a=getWeatherIcon(e.icon),n=`\n        <div class="space-y-4">\n            <div class="flex items-center justify-between">\n                <div>\n                    <h4 class="font-bold text-lg">${e.location}</h4>\n                    <p class="text-gray-600">${(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}</p>\n                </div>\n                <div class="text-right">\n                    <div class="flex items-center justify-end">\n                        <div class="text-4xl font-bold">${e.temp}¬∞C</div>\n                        <div class="ml-3 text-3xl">${a}</div>\n                    </div>\n                    <p class="text-gray-600">${e.condition} - ${e.description}</p>\n                </div>\n            </div>\n            \n            <div class="grid grid-cols-2 md:grid-cols-3 gap-3">\n                <div class="bg-gray-50 p-3 rounded-lg">\n                    <p class="text-sm text-gray-600">${t.feels_like||"Feels Like"}</p>\n                    <p class="font-bold text-lg">${e.feelsLike}¬∞C</p>\n                </div>\n                <div class="bg-gray-50 p-3 rounded-lg">\n                    <p class="text-sm text-gray-600">${t.humidity||"Humidity"}</p>\n                    <p class="font-bold text-lg">${e.humidity}%</p>\n                </div>\n                <div class="bg-gray-50 p-3 rounded-lg">\n                    <p class="text-sm text-gray-600">${t.wind_speed||"Wind Speed"}</p>\n                    <p class="font-bold text-lg">${e.windSpeed} km/h</p>\n                </div>\n                <div class="bg-gray-50 p-3 rounded-lg">\n                    <p class="text-sm text-gray-600">${t.pressure||"Pressure"}</p>\n                    <p class="font-bold text-lg">${e.pressure} hPa</p>\n                </div>\n                <div class="bg-gray-50 p-3 rounded-lg">\n                    <p class="text-sm text-gray-600">${t.sunrise||"Sunrise"}</p>\n                    <p class="font-bold text-lg">${e.sunrise}</p>\n                </div>\n                <div class="bg-gray-50 p-3 rounded-lg">\n                    <p class="text-sm text-gray-600">${t.sunset||"Sunset"}</p>\n                    <p class="font-bold text-lg">${e.sunset}</p>\n                </div>\n            </div>\n            \n            <div class="bg-green-50 p-4 rounded-lg">\n                <p class="font-medium text-green-800">${t.farming_advisory_label||"Farming Advisory:"}</p>\n                <p class="text-green-700" id="weatherAdvisoryText">${document.getElementById("farmingAdvisory").textContent}</p>\n            </div>\n            \n            <div class="text-center">\n                <button onclick="refreshWeather()" class="text-green-600 hover:text-green-800 font-medium">\n                    <i class="fas fa-sync-alt mr-2"></i>Refresh Weather\n                </button>\n            </div>\n        </div>\n    `;showModal(t.weather_forecast||"Weather Forecast",n)}async function refreshWeather(){showToast("Refreshing weather data...","info");try{await fetchWeatherData(),updateWeatherCard(),updateWeatherAdvisory();document.getElementById("modal-container").classList.contains("hidden")||openWeatherModal(),showToast("Weather data updated","success")}catch(e){showToast("Failed to update weather","error")}}function getWeatherIcon(e){return{"01d":"‚òÄÔ∏è","01n":"üåô","02d":"‚õÖ","02n":"‚òÅÔ∏è","03d":"‚òÅÔ∏è","03n":"‚òÅÔ∏è","04d":"‚òÅÔ∏è","04n":"‚òÅÔ∏è","09d":"üåßÔ∏è","09n":"üåßÔ∏è","10d":"üå¶Ô∏è","10n":"üåßÔ∏è","11d":"‚õàÔ∏è","11n":"‚õàÔ∏è","13d":"‚ùÑÔ∏è","13n":"‚ùÑÔ∏è","50d":"üå´Ô∏è","50n":"üå´Ô∏è"}[e]||"üå°Ô∏è"}function generateOTP(){return Math.floor(1e5+9e5*Math.random()).toString()}function startOTPTimer(){clearInterval(appState.otpTimer),appState.otpTimeLeft=120;const e=document.getElementById("otpTimer"),t=document.getElementById("resendOTP");t&&(t.disabled=!0,t.classList.add("opacity-50","cursor-not-allowed")),appState.otpTimer=setInterval(()=>{if(appState.otpTimeLeft--,e){const t=Math.floor(appState.otpTimeLeft/60),a=appState.otpTimeLeft%60;e.textContent=`${t.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}appState.otpTimeLeft<=0&&(clearInterval(appState.otpTimer),e&&(e.textContent="00:00"),t&&(t.disabled=!1,t.classList.remove("opacity-50","cursor-not-allowed")))},1e3)}function createOTPInputs(){const e=document.getElementById("otpContainer");if(e){e.innerHTML="";for(let t=0;t<6;t++){const a=document.createElement("input");a.type="text",a.maxLength=1,a.className="otp-digit",a.dataset.index=t,a.inputMode="numeric",a.addEventListener("input",function(e){const a=e.target.value;if(a&&/^\d$/.test(a)){const e=parseInt(t)+1,a=document.querySelector(`.otp-digit[data-index="${e}"]`);a&&a.focus()}this.classList.remove("error")}),a.addEventListener("keydown",function(e){if("Backspace"===e.key&&!this.value){const e=parseInt(t)-1,a=document.querySelector(`.otp-digit[data-index="${e}"]`);a&&a.focus()}}),e.appendChild(a)}}}function showPage(e){console.log("Showing page:",e),document.querySelectorAll(".page").forEach(e=>{e.classList.remove("active")});const t=document.getElementById(e);t&&t.classList.add("active"),updateNavigation();const a=document.getElementById("mobile-menu");a&&a.classList.add("hidden")}function updateNavigation(){const e=document.getElementById("nav-actions"),t=document.getElementById("mobile-nav-actions"),a=document.getElementById("mobile-menu-content"),n=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;if(e){e.innerHTML="",createLanguageSelector();const t=document.createElement("div");t.className="flex items-center space-x-2",appState.activeUser?t.innerHTML=`\n                <span class="hidden md:inline text-gray-700 text-sm">${appState.activeUser.name}</span>\n                <button onclick="handleLogout()" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-1.5 px-3 rounded-lg transition-colors text-sm">\n                    ${n.logout||"Logout"}\n                </button>\n            `:t.innerHTML=`\n                <button onclick="showPage('loginPage')" class="text-gray-700 hover:text-gray-900 px-2 py-1.5 rounded-md text-sm font-medium transition-colors">\n                    ${n.login||"Login"}\n                </button>\n                <button onclick="showPage('signUpPage')" class="bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-md text-sm font-medium transition-colors">\n                    ${n.get_started||"Get Started"}\n                </button>\n            `,e.appendChild(t)}t&&(t.innerHTML="",appState.activeUser?t.innerHTML=`\n                <div class="flex items-center space-x-1">\n                    <button onclick="showLanguageMenu()" class="language-btn-mobile flex items-center space-x-1 px-2 py-1.5 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors text-xs">\n                        <i class="fas fa-globe"></i>\n                        <span>${CONFIG.LANGUAGES[appState.currentLanguage].flag}</span>\n                    </button>\n                    <span class="user-name-mobile text-gray-700 text-xs px-1">${appState.activeUser.name.split(" ")[0]}</span>\n                    <button onclick="handleLogout()" class="logout-btn-mobile bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-1.5 px-2 rounded-lg transition-colors text-xs">\n                        ${n.logout||"Logout"}\n                    </button>\n                </div>\n            `:t.innerHTML=`\n                <div class="flex items-center space-x-1">\n                    <button onclick="showLanguageMenu()" class="language-btn-mobile flex items-center space-x-1 px-2 py-1.5 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors text-xs">\n                        <i class="fas fa-globe"></i>\n                        <span>${CONFIG.LANGUAGES[appState.currentLanguage].flag}</span>\n                    </button>\n                    <button onclick="showPage('loginPage')" class="text-gray-700 hover:text-gray-900 px-2 py-1.5 rounded-md text-xs font-medium transition-colors">\n                        ${n.login||"Login"}\n                    </button>\n                    <button onclick="showPage('signUpPage')" class="bg-green-600 hover:bg-green-700 text-white px-2 py-1.5 rounded-md text-xs font-medium transition-colors">\n                        ${n.get_started||"Get Started"}\n                    </button>\n                </div>\n            `),a&&(a.innerHTML="",appState.activeUser?a.innerHTML=`\n                <div class="space-y-3">\n                    <div class="px-3 py-2 text-gray-700 border-b pb-3">\n                        <p class="font-medium">${appState.activeUser.name}</p>\n                        <p class="text-sm text-gray-500">${appState.activeUser.district}, ${appState.activeUser.state}</p>\n                    </div>\n                    <div class="space-y-1">\n                        <button onclick="showPage('homePage')" class="block w-full text-left px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100">\n                            <i class="fas fa-home mr-2"></i> ${n.home||"Home"}\n                        </button>\n                        <button onclick="openWeatherModal()" class="block w-full text-left px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100">\n                            <i class="fas fa-cloud-sun mr-2"></i> ${n.weather_forecast||"Weather"}\n                        </button>\n                        <div class="px-3 py-2 text-sm text-gray-500">Language</div>\n                        <div class="px-3 space-y-1">\n                            ${Object.entries(CONFIG.LANGUAGES).map(([e,t])=>`\n                                <button onclick="changeLanguage('${e}')" \n                                        class="flex items-center w-full text-left px-2 py-1.5 rounded hover:bg-gray-100 ${appState.currentLanguage===e?"text-green-600 font-medium":"text-gray-700"}">\n                                    <span class="mr-2">${t.flag}</span>\n                                    <span>${t.name}</span>\n                                    ${appState.currentLanguage===e?'<i class="fas fa-check ml-auto text-green-600"></i>':""}\n                                </button>\n                            `).join("")}\n                        </div>\n                        <button onclick="handleLogout()" class="block w-full text-left px-3 py-2 rounded-md text-red-600 hover:bg-red-50 mt-4">\n                            <i class="fas fa-sign-out-alt mr-2"></i> ${n.logout||"Logout"}\n                        </button>\n                    </div>\n                </div>\n            `:a.innerHTML=`\n                <div class="space-y-1">\n                    <button onclick="showPage('welcomePage')" class="block w-full text-left px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100">\n                        <i class="fas fa-home mr-2"></i> ${n.home||"Home"}\n                    </button>\n                    <button onclick="showPage('loginPage')" class="block w-full text-left px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100">\n                        <i class="fas fa-sign-in-alt mr-2"></i> ${n.login||"Login"}\n                    </button>\n                    <button onclick="showPage('signUpPage')" class="block w-full text-left px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100">\n                        <i class="fas fa-user-plus mr-2"></i> ${n.create_account||"Create Account"}\n                    </button>\n                    <div class="px-3 py-2 text-sm text-gray-500">Language</div>\n                    <div class="px-3 space-y-1">\n                        ${Object.entries(CONFIG.LANGUAGES).map(([e,t])=>`\n                            <button onclick="changeLanguage('${e}')" \n                                    class="flex items-center w-full text-left px-2 py-1.5 rounded hover:bg-gray-100 ${appState.currentLanguage===e?"text-green-600 font-medium":"text-gray-700"}">\n                                <span class="mr-2">${t.flag}</span>\n                                <span>${t.name}</span>\n                                ${appState.currentLanguage===e?'<i class="fas fa-check ml-auto text-green-600"></i>':""}\n                            </button>\n                        `).join("")}\n                    </div>\n                </div>\n            `)}function showLanguageMenu(){const e=document.getElementById("mobile-menu"),t=document.getElementById("mobile-menu-content");t&&(t.innerHTML=`\n            <div class="space-y-2">\n                <div class="px-3 py-2 text-sm text-gray-500">Select Language</div>\n                ${Object.entries(CONFIG.LANGUAGES).map(([e,t])=>`\n                    <button onclick="changeLanguage('${e}'); document.getElementById('mobile-menu').classList.add('hidden');" \n                            class="flex items-center w-full text-left px-3 py-2.5 rounded-md hover:bg-gray-100 ${appState.currentLanguage===e?"bg-green-50 text-green-700":"text-gray-700"}">\n                        <span class="text-lg mr-3">${t.flag}</span>\n                        <span class="flex-1">${t.name}</span>\n                        ${appState.currentLanguage===e?'<i class="fas fa-check text-green-600"></i>':""}\n                    </button>\n                `).join("")}\n                <div class="pt-2 border-t">\n                    <button onclick="document.getElementById('mobile-menu').classList.add('hidden')" \n                            class="w-full text-center px-3 py-2 text-gray-600 hover:text-gray-800">\n                        Cancel\n                    </button>\n                </div>\n            </div>\n        `,e.classList.remove("hidden"))}function initializeStateDistrict(){const e=document.getElementById("signUpState");e&&e.addEventListener("change",function(){const e=this.value,t=document.getElementById("signUpDistrict");t&&(t.innerHTML='<option value="">Select District</option>',t.disabled=!0,e&&districtData[e]&&(districtData[e].forEach(e=>{const a=document.createElement("option");a.value=e,a.textContent=e,t.appendChild(a)}),t.disabled=!1))})}function handleSignUp(){const e=document.getElementById("signUpName").value.trim(),t=document.getElementById("signUpMobile").value.trim(),a=document.getElementById("signUpState").value,n=document.getElementById("signUpDistrict").value,o=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;if(!e||e.length<2)return void showToast(o.invalid_name||"Please enter a valid name","error");if(!/^[6-9]\d{9}$/.test(t))return void showToast(o.invalid_mobile||"Please enter a valid 10-digit mobile number","error");if(!a)return void showToast(o.select_state_error||"Please select your state","error");if(!n)return void showToast(o.select_district_error||"Please select your district","error");const i={name:e,mobile:t,state:a,district:n,language:appState.currentLanguage,joined:(new Date).toISOString(),lastLogin:(new Date).toISOString()};localStorage.setItem("agrifarmers_user",JSON.stringify(i)),appState.activeUser=i,document.getElementById("farmerName").textContent=i.name,document.getElementById("farmerLocation").textContent=`${i.district}, ${i.state}`,document.getElementById("welcomeText").textContent=`${o.hello||"Hello"}, ${i.name.split(" ")[0]}`,showToast(o.account_created||"Account created successfully!","success"),showPage("homePage")}function handleLogin(){const e=document.getElementById("loginMobile").value.trim(),t=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;if(!/^[6-9]\d{9}$/.test(e))return void showToast(t.invalid_mobile||"Please enter a valid 10-digit mobile number","error");const a=localStorage.getItem("agrifarmers_user");let n=null;a&&(n=JSON.parse(a),n.mobile!==e&&(n=null));const o=generateOTP();appState.lastGeneratedOTP=o,appState.tempUserData=n||{mobile:e},document.getElementById("otpPhoneNumber").textContent=`+91 ${e}`,document.getElementById("demoOTP").textContent=o,createOTPInputs(),startOTPTimer(),showPage("otpPage"),setTimeout(()=>{const e=document.querySelector('.otp-digit[data-index="0"]');e&&e.focus()},100)}function verifyOTP(){const e=document.querySelectorAll(".otp-digit");let t="";const a=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;if(e.forEach(e=>{t+=e.value}),6!==t.length)return showToast(a.enter_6_digits||"Please enter all 6 digits","error"),void e.forEach(e=>{e.value||e.classList.add("error")});if(t===appState.lastGeneratedOTP||"123456"===t){if(clearInterval(appState.otpTimer),appState.tempUserData&&appState.tempUserData.name)appState.activeUser=appState.tempUserData,appState.activeUser.lastLogin=(new Date).toISOString(),appState.activeUser.language=appState.currentLanguage,localStorage.setItem("agrifarmers_user",JSON.stringify(appState.activeUser)),document.getElementById("farmerName").textContent=appState.activeUser.name,document.getElementById("farmerLocation").textContent=`${appState.activeUser.district}, ${appState.activeUser.state}`,document.getElementById("welcomeText").textContent=`${a.hello||"Hello"}, ${appState.activeUser.name.split(" ")[0]}`,showToast(a.otp_verified||"Login successful!","success"),showPage("homePage");else{const e=document.getElementById("signUpMobile");e&&appState.tempUserData?.mobile&&(e.value=appState.tempUserData.mobile),showToast("Please complete your registration","info"),showPage("signUpPage")}appState.tempUserData=null,appState.lastGeneratedOTP=null}else showToast(a.invalid_otp||"Invalid OTP. Please try again.","error"),e.forEach(e=>{e.classList.add("error")})}function resendOTP(){const e=document.getElementById("resendOTP"),t=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;if(e&&!e.disabled){const e=generateOTP();appState.lastGeneratedOTP=e,document.getElementById("demoOTP").textContent=e,document.querySelectorAll(".otp-digit").forEach(e=>{e.value="",e.classList.remove("error","success")}),startOTPTimer();const a=document.querySelector('.otp-digit[data-index="0"]');a&&a.focus(),showToast(t.new_otp_sent||"New OTP sent!","info")}}function handleLogout(){const e=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;appState.activeUser=null,appState.tempUserData=null,clearInterval(appState.otpTimer),appState.otpTimer=null,showToast(e.logged_out||"Logged out successfully","info"),showPage("welcomePage")}function showModal(e,t){const a=document.getElementById("modal-container");if(a&&(a.innerHTML=`\n        <div class="bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-hidden" style="animation: fadeIn 0.3s ease;">\n            <div class="flex items-center justify-between p-4 md:p-6 border-b">\n                <h3 class="text-lg md:text-xl font-bold text-gray-800">${e}</h3>\n                <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl md:text-3xl font-light">&times;</button>\n            </div>\n            <div class="overflow-y-auto p-4 md:p-6" style="max-height: calc(90vh - 80px);">\n                ${t}\n            </div>\n        </div>\n    `,a.classList.remove("hidden"),!document.querySelector("#fadeInAnimation"))){const e=document.createElement("style");e.id="fadeInAnimation",e.textContent="\n            @keyframes fadeIn {\n                from { opacity: 0; transform: scale(0.95); }\n                to { opacity: 1; transform: scale(1); }\n            }\n        ",document.head.appendChild(e)}}function closeModal(){const e=document.getElementById("modal-container");e&&e.classList.add("hidden")}function openSeedModal(){const e=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;showModal(e.seed_recommendations||"Seed Recommendations",`\n        <div class="space-y-4">\n            <h4 class="font-bold text-lg">${e.recommended_for_kharif||"Recommended for Kharif Season"}</h4>\n            \n            <div class="space-y-3">\n                <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">\n                    <div>\n                        <p class="font-bold">${e.rice||"Rice"}</p>\n                        <p class="text-sm text-gray-600">${e.high_yield||"High-yield variety"}</p>\n                    </div>\n                    <span class="px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full">${e.recommended||"Recommended"}</span>\n                </div>\n                \n                <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">\n                    <div>\n                        <p class="font-bold">${e.cotton||"Cotton"}</p>\n                        <p class="text-sm text-gray-600">${e.bt_cotton||"BT Cotton variety"}</p>\n                    </div>\n                    <span class="px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full">${e.recommended||"Recommended"}</span>\n                </div>\n            </div>\n            \n            <div class="bg-yellow-50 p-3 rounded-lg">\n                <p class="text-sm text-yellow-800">\n                    <i class="fas fa-lightbulb mr-2"></i>\n                    ${e.tip_seeds||"Tip: Always use certified seeds from authorized dealers for better yield."}\n                </p>\n            </div>\n        </div>\n    `)}function openFertilizerModal(){const e=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;showModal(e.fertilizer_guide||"Fertilizer Guide",`\n        <div class="space-y-4">\n            <div class="grid grid-cols-2 gap-4">\n                <div class="bg-green-50 p-4 rounded-lg">\n                    <h5 class="font-bold mb-2">${e.npk_ratio||"NPK Ratio"}</h5>\n                    <p class="text-3xl font-bold text-gray-800">4:2:1</p>\n                    <p class="text-sm text-gray-600">${e.nitrogen_phosphorus_potassium||"Nitrogen:Phosphorus:Potassium"}</p>\n                </div>\n                <div class="bg-blue-50 p-4 rounded-lg">\n                    <h5 class="font-bold mb-2">${e.application_time||"Application Time"}</h5>\n                    <p class="text-lg font-bold text-gray-800">${e.before_sowing||"Before Sowing"}</p>\n                    <p class="text-sm text-gray-600">${e.basal_dose||"Basal dose recommended"}</p>\n                </div>\n            </div>\n        </div>\n    `)}function openCropCalendarModal(){const e=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;showModal(e.crop_calendar||"Crop Calendar",`\n        <div class="space-y-4">\n            <div class="overflow-x-auto">\n                <table class="w-full text-sm">\n                    <thead class="bg-gray-100">\n                        <tr>\n                            <th class="p-2 text-left">${e.season||"Season"}</th>\n                            <th class="p-2 text-left">${e.sowing||"Sowing"}</th>\n                            <th class="p-2 text-left">${e.harvesting||"Harvesting"}</th>\n                            <th class="p-2 text-left">${e.crops||"Crops"}</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr class="border-b">\n                            <td class="p-2 font-medium">${e.kharif||"Kharif"}</td>\n                            <td class="p-2">Jun - Jul</td>\n                            <td class="p-2">Sep - Oct</td>\n                            <td class="p-2">${e.rice||"Rice"}, ${e.maize||"Maize"}, ${e.cotton||"Cotton"}</td>\n                        </tr>\n                        <tr class="border-b">\n                            <td class="p-2 font-medium">${e.rabi||"Rabi"}</td>\n                            <td class="p-2">Oct - Nov</td>\n                            <td class="p-2">Mar - Apr</td>\n                            <td class="p-2">${e.wheat||"Wheat"}, Barley, Mustard</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    `)}function openMarketPricesModal(){const e=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;showModal(e.market_prices_title||"Market Prices",`\n        <div class="space-y-4">\n            <div class="space-y-3">\n                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">\n                    <div>\n                        <p class="font-bold">${e.wheat||"Wheat"}</p>\n                        <p class="text-sm text-gray-600">${e.grade_a||"Grade A"}</p>\n                    </div>\n                    <span class="text-lg font-bold text-green-600">‚Çπ2,300/q</span>\n                </div>\n                \n                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">\n                    <div>\n                        <p class="font-bold">${e.rice||"Rice"}</p>\n                        <p class="text-sm text-gray-600">${e.basmati||"Basmati"}</p>\n                    </div>\n                    <span class="text-lg font-bold text-green-600">‚Çπ3,800/q</span>\n                </div>\n            </div>\n            <p class="text-sm text-gray-600 text-center">${e.prices_updated||"Prices updated: Today, 10:00 AM"}</p>\n        </div>\n    `)}function openSoilHealthModal(){const e=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;showModal(e.soil_health||"Soil Health",`\n        <div class="space-y-4">\n            <div class="bg-green-50 p-4 rounded-lg">\n                <h4 class="font-bold mb-3">${e.soil_testing_steps||"Soil Testing Steps"}</h4>\n                <ol class="list-decimal list-inside space-y-2 text-gray-700">\n                    <li>${e.collect_samples||"Collect soil samples from different spots in your field"}</li>\n                    <li>${e.mix_samples||"Mix samples thoroughly in a clean container"}</li>\n                    <li>${e.visit_kvk||"Visit nearest Krishi Vigyan Kendra (KVK)"}</li>\n                    <li>${e.get_health_card||"Get soil health card with recommendations"}</li>\n                </ol>\n            </div>\n        </div>\n    `)}function openServicesModal(){const e=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;showModal(e.our_services||"Our Services",`\n        <div class="space-y-4">\n            <div class="bg-green-50 p-4 rounded-lg">\n                <h5 class="font-bold mb-2">${e.weather_forecast||"Weather Forecast"}</h5>\n                <p class="text-gray-700">${e.weather_forecast_desc||"Accurate weather predictions for your farming activities."}</p>\n            </div>\n            <div class="bg-blue-50 p-4 rounded-lg">\n                <h5 class="font-bold mb-2">${e.seed_recommendations||"Seed Recommendations"}</h5>\n                <p class="text-gray-700">${e.seed_recommendations_desc||"Best seeds for your specific region and soil type."}</p>\n            </div>\n        </div>\n    `)}function openContactModal(){showModal((TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en).contact||"Contact",'\n        <div class="space-y-4">\n            <div class="bg-green-50 p-4 rounded-lg">\n                <h5 class="font-bold mb-2">Email</h5>\n                <p class="text-gray-700">help@agrifarmers.com</p>\n            </div>\n            <div class="bg-blue-50 p-4 rounded-lg">\n                <h5 class="font-bold mb-2">Phone</h5>\n                <p class="text-gray-700">+91 1800-XXX-XXXX (Toll-free)</p>\n            </div>\n        </div>\n    ')}function openAboutModal(){showModal((TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en).about||"About",'\n        <div class="space-y-4">\n            <div class="bg-green-50 p-4 rounded-lg">\n                <h5 class="font-bold mb-2">Our Mission</h5>\n                <p class="text-gray-700">To empower farmers with technology-driven solutions for better farming practices and increased productivity.</p>\n            </div>\n        </div>\n    ')}function openPrivacyModal(){showModal((TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en).privacy_policy||"Privacy Policy",'\n        <div class="space-y-4">\n            <p class="text-gray-700">We respect your privacy. Your personal information is securely stored and never shared with third parties without your consent.</p>\n        </div>\n    ')}function openTermsModal(){showModal((TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en).terms_of_use||"Terms of Use",'\n        <div class="space-y-4">\n            <p class="text-gray-700">By using AgriFarmers, you agree to our terms and conditions.</p>\n        </div>\n    ')}function openSitemapModal(){const e=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;showModal(e.sitemap||"Sitemap",`\n        <div class="space-y-3">\n            <a href="#" onclick="showPage('welcomePage'); closeModal(); return false;" class="block p-2 hover:bg-gray-100 rounded">${e.home||"Home"}</a>\n            <a href="#" onclick="showPage('loginPage'); closeModal(); return false;" class="block p-2 hover:bg-gray-100 rounded">${e.login||"Login"}</a>\n            <a href="#" onclick="showPage('signUpPage'); closeModal(); return false;" class="block p-2 hover:bg-gray-100 rounded">${e.create_account||"Create account"}</a>\n        </div>\n    `)}function showToast(e,t="info"){const a=document.createElement("div");a.className=`toast toast-${t}`,a.textContent=e;const n=document.getElementById("toast-container");n&&(n.appendChild(a),setTimeout(()=>{a.style.animation="slideOut 0.3s ease",setTimeout(()=>{a.parentNode===n&&n.removeChild(a)},300)},3e3))}function updateNetworkStatus(){const e=document.getElementById("offline-indicator"),t=document.getElementById("network-status"),a=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;if(navigator.onLine){e&&e.classList.add("hidden"),t&&(t.innerHTML='<i class="fas fa-wifi mr-1"></i> '+(a.online||"Online"),t.className="text-xs md:text-sm px-2 md:px-3 py-1 bg-green-100 text-green-800 rounded-full");const n=document.getElementById("connectivity-status");n&&(n.textContent="Online")}else{e&&e.classList.remove("hidden"),t&&(t.innerHTML='<i class="fas fa-wifi-slash mr-1"></i> '+(a.offline||"Offline"),t.className="text-xs md:text-sm px-2 md:px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full");const n=document.getElementById("connectivity-status");n&&(n.textContent="Offline - Limited functionality"),showToast(a.offline_mode||"You are offline. Some features may be limited.","info")}}async function initializeApp(){console.log("Initializing AgriFarmers App..."),document.getElementById("current-year").textContent=(new Date).getFullYear(),document.getElementById("currentDate").textContent=(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),initializeLanguage(),initializePWA(),initializeStateDistrict(),updateNetworkStatus(),window.addEventListener("online",updateNetworkStatus),window.addEventListener("offline",updateNetworkStatus);const e=document.getElementById("mobile-menu-button"),t=document.getElementById("mobile-menu");e&&t&&(e.addEventListener("click",()=>{t.classList.toggle("hidden")}),document.addEventListener("click",a=>{t.contains(a.target)||e.contains(a.target)||t.classList.add("hidden")}));const a=localStorage.getItem("agrifarmers_user");if(a)try{appState.activeUser=JSON.parse(a),appState.activeUser.language&&changeLanguage(appState.activeUser.language),document.getElementById("farmerName").textContent=appState.activeUser.name,document.getElementById("farmerLocation").textContent=`${appState.activeUser.district}, ${appState.activeUser.state}`;const e=TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en;document.getElementById("welcomeText").textContent=`${e.hello||"Hello"}, ${appState.activeUser.name.split(" ")[0]}`,setTimeout(async()=>{await initializeWeather()},500),showPage("homePage")}catch(e){console.error("Error loading user:",e),localStorage.removeItem("agrifarmers_user"),showPage("welcomePage"),setTimeout(async()=>{await initializeWeather()},500)}else showPage("welcomePage"),setTimeout(async()=>{await initializeWeather()},500);setTimeout(()=>{document.getElementById("loadingScreen").style.display="none",document.getElementById("app").classList.remove("opacity-0");showToast((TRANSLATIONS[appState.currentLanguage]||TRANSLATIONS.en).welcome_toast||"Welcome to AgriFarmers!","info")},2e3),console.log("App initialized successfully")}function registerServiceWorker(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js").then(e=>{console.log("‚úÖ Service Worker registered:",e.scope),e.addEventListener("updatefound",()=>{const t=e.installing;console.log("Service Worker update found:",t.state)})}).catch(e=>{console.error("Service Worker registration failed:",e)})})}document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, starting app..."),registerServiceWorker(),initializeApp(),window.showPage=showPage,window.handleLogin=handleLogin,window.handleSignUp=handleSignUp,window.verifyOTP=verifyOTP,window.resendOTP=resendOTP,window.handleLogout=handleLogout,window.changeLanguage=changeLanguage,window.installAgriFarmers=installPWA,window.refreshWeather=refreshWeather,window.openWeatherModal=openWeatherModal,window.openSeedModal=openSeedModal,window.openFertilizerModal=openFertilizerModal,window.openCropCalendarModal=openCropCalendarModal,window.openMarketPricesModal=openMarketPricesModal,window.openSoilHealthModal=openSoilHealthModal,window.openServicesModal=openServicesModal,window.openContactModal=openContactModal,window.openAboutModal=openAboutModal,window.openPrivacyModal=openPrivacyModal,window.openTermsModal=openTermsModal,window.openSitemapModal=openSitemapModal,window.closeModal=closeModal,window.showLanguageMenu=showLanguageMenu});